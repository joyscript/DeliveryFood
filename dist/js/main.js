(()=>{"use strict";var __webpack_modules__={604:()=>{eval("\n;// CONCATENATED MODULE: ./modules/auth.js\nconst auth = () => {\r\n  const buttonAuth = document.querySelector('.button-auth');\r\n  const buttonOut = document.querySelector('.button-out');\r\n  const buttonCart = document.querySelector('.button-cart');\r\n  const modalAuth = document.querySelector('.modal-auth');\r\n  const userName = document.querySelector('.user-name');\r\n  const logInForm = document.getElementById('logInForm');\r\n\r\n  const openModalAuth = () => modalAuth.classList.add('open');\r\n\r\n  const closeModalAuth = (e) => {\r\n    if (e.target === modalAuth || e.target.classList.contains('close-auth') || e.type === 'submit') {\r\n      modalAuth.classList.remove('open');\r\n    }\r\n  };\r\n\r\n  const userLogIn = (login) => {\r\n    buttonAuth.style.display = 'none';\r\n    buttonOut.style.display = 'flex';\r\n    buttonCart.style.display = 'flex';\r\n    userName.style.display = 'block';\r\n    userName.textContent = login;\r\n  };\r\n\r\n  const userLogOut = () => {\r\n    buttonAuth.style.display = 'flex';\r\n    buttonOut.style.display = '';\r\n    buttonCart.style.display = '';\r\n    userName.style.display = '';\r\n    userName.textContent = '';\r\n\r\n    localStorage.clear();\r\n    if (window.location.pathname === '/restaurant.html') window.location = 'index.html';\r\n  };\r\n\r\n  if (localStorage.getItem('user')) {\r\n    userLogIn(JSON.parse(localStorage.getItem('user')).login);\r\n  }\r\n\r\n  buttonAuth.addEventListener('click', openModalAuth);\r\n  modalAuth.addEventListener('click', closeModalAuth);\r\n  buttonOut.addEventListener('click', userLogOut);\r\n\r\n  logInForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n\r\n    const login = logInForm.querySelector('#login').value;\r\n    const password = logInForm.querySelector('#password').value;\r\n\r\n    localStorage.setItem('user', JSON.stringify({ login, password }));\r\n\r\n    closeModalAuth(e);\r\n    userLogIn(login);\r\n  });\r\n};\r\n\n;// CONCATENATED MODULE: ./modules/menu.js\nlet products = [];\r\n\r\nconst menu = () => {\r\n  const cardsContainer = document.querySelector('.cards-menu');\r\n  const restaurant = JSON.parse(localStorage.getItem('restaurant'));\r\n\r\n  const updateHeading = (restaurant) => {\r\n    const { name, stars, price, kitchen } = restaurant;\r\n\r\n    document.querySelector('.restaurant-title').textContent = name;\r\n    document.querySelector('.card-info .rating').textContent = stars;\r\n    document.querySelector('.card-info .price').textContent = `От ${price} ₽`;\r\n    document.querySelector('.card-info .category').textContent = kitchen;\r\n  };\r\n\r\n  const renderCard = (product) => {\r\n    const { id, name, description, price, image } = product;\r\n\r\n    const card = document.createElement('div');\r\n    card.classList.add('card');\r\n\r\n    card.innerHTML = `\r\n      <img src=${image} alt=\"image\" class=\"card-image\" />\r\n      <div class=\"card-text\">\r\n        <div class=\"card-heading\">\r\n          <h3 class=\"card-title card-title-reg\">${name}</h3>\r\n        </div>\r\n        <div class=\"card-info\">\r\n          <div class=\"ingredients\">${description}</div>\r\n        </div>\r\n        <div class=\"card-buttons\">\r\n          <button class=\"button button-primary button-add-cart\" data-id=${id}>\r\n            <span class=\"button-card-text\">В корзину</span>\r\n            <span class=\"button-cart-svg\"></span>\r\n          </button>\r\n          <strong class=\"card-price-bold\">${price} ₽</strong>\r\n        </div>\r\n      </div>\r\n      `;\r\n\r\n    cardsContainer.append(card);\r\n  };\r\n\r\n  if (!localStorage.getItem('user')) window.location = 'index.html';\r\n\r\n  if (restaurant) {\r\n    updateHeading(restaurant);\r\n\r\n    fetch(`https://deliveryfood-b2697-default-rtdb.firebaseio.com/db/${restaurant.products}`)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          cardsContainer.innerHTML = `\r\n            <h3 class=\"card-title\">Извините, невозможно отобразить продукты.<br>\r\n            Ошибка ${res.status} - ${res.statusText}</h3>\r\n          `;\r\n          throw new Error(`error: ${res.status} ${res.statusText}`);\r\n        }\r\n      })\r\n      .then((data) => {\r\n        data.forEach((product) => {\r\n          renderCard(product);\r\n\r\n          const { id, name, price } = product;\r\n          products.push({ id, name, price, count: 1 });\r\n        });\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  } else {\r\n    window.location = 'index.html';\r\n  }\r\n};\r\n\n;// CONCATENATED MODULE: ./modules/cart.js\n\r\n\r\nconst cart = () => {\r\n  const cardsContainer = document.querySelector('.cards-menu');\r\n  const buttonCart = document.querySelector('.button-cart');\r\n  const modalCart = document.querySelector('.modal-cart');\r\n  const modalBody = modalCart.querySelector('.modal-body');\r\n  const modalSum = modalCart.querySelector('.modal-pricetag');\r\n  const clearBtn = modalCart.querySelector('.clear-cart');\r\n  const sendBtn = modalCart.querySelector('.button-send');\r\n  const maxQuantity = 10;\r\n  let cartArr = [];\r\n\r\n  const openModalCart = () => modalCart.classList.add('open');\r\n\r\n  const closeModalCart = (e) => {\r\n    if (e.target === modalCart || e.target.classList.contains('close')) {\r\n      modalCart.classList.remove('open');\r\n    }\r\n  };\r\n\r\n  const addToCart = (id) => {\r\n    const product = products.find((item) => item.id === id);\r\n    const productInCart = cartArr.find((item) => item.id === product.id);\r\n\r\n    productInCart ? productInCart.count++ : cartArr.push(product);\r\n  };\r\n\r\n  const saveCart = () => {\r\n    localStorage.setItem('cart', JSON.stringify(cartArr));\r\n  };\r\n\r\n  const clearCart = () => {\r\n    cartArr = [];\r\n    modalBody.innerHTML = '';\r\n    modalSum.textContent = `0 ₽`;\r\n    sendBtn.classList.remove('open');\r\n    modalCart.classList.remove('open');\r\n    localStorage.removeItem('cart');\r\n  };\r\n\r\n  const calculateSum = () => {\r\n    let sum = cartArr.reduce((sum, item) => item.price * item.count + sum, 0);\r\n    modalSum.textContent = `${sum} ₽`;\r\n  };\r\n\r\n  const renderModalCart = () => {\r\n    modalBody.innerHTML = '';\r\n\r\n    cartArr.forEach(({ id, name, price, count }) => {\r\n      const foodRow = document.createElement('div');\r\n      foodRow.classList.add('food-row');\r\n\r\n      foodRow.innerHTML = `\r\n        <span class=\"food-name\">${name}</span>\r\n        <strong class=\"food-price\">${price} ₽</strong>\r\n        <div class=\"food-counter\">\r\n          <button class=\"counter-button btn-minus\" data-id=${id}>-</button>\r\n          <span class=\"counter\">${count}</span>\r\n          <button class=\"counter-button btn-plus\" data-id=${id}>+</button>\r\n        </div>\r\n      `;\r\n\r\n      modalBody.append(foodRow);\r\n    });\r\n\r\n    sendBtn.classList.add('open');\r\n\r\n    calculateSum();\r\n  };\r\n\r\n  // --------------------------------\r\n\r\n  if (localStorage.getItem('cart')) {\r\n    cartArr = JSON.parse(localStorage.getItem('cart'));\r\n    renderModalCart();\r\n  }\r\n\r\n  if (cardsContainer) {\r\n    cardsContainer.addEventListener('click', (e) => {\r\n      if (e.target.closest('.button-add-cart')) {\r\n        const btn = e.target.closest('.button-add-cart');\r\n\r\n        addToCart(btn.dataset.id);\r\n        saveCart();\r\n        renderModalCart();\r\n        openModalCart();\r\n      }\r\n    });\r\n  }\r\n\r\n  buttonCart.addEventListener('click', openModalCart);\r\n  modalCart.addEventListener('click', closeModalCart);\r\n  clearBtn.addEventListener('click', clearCart);\r\n\r\n  modalBody.addEventListener('click', (e) => {\r\n    if (e.target.classList.contains('counter-button')) {\r\n      const btn = e.target;\r\n      const product = cartArr.find((item) => item.id === btn.dataset.id);\r\n\r\n      if (btn.classList.contains('btn-minus') && product.count > 0) {\r\n        btn.nextElementSibling.textContent--;\r\n        product.count--;\r\n      } else if (btn.classList.contains('btn-plus') && product.count < maxQuantity) {\r\n        btn.previousElementSibling.textContent++;\r\n        product.count++;\r\n      }\r\n\r\n      calculateSum();\r\n      saveCart();\r\n    }\r\n  });\r\n\r\n  sendBtn.addEventListener('click', () => {\r\n    fetch('https://jsonplaceholder.typicode.com/posts', {\r\n      method: 'POST',\r\n      body: localStorage.getItem('cart'),\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          modalBody.innerHTML = `<h3 class=\"card-title\">Спасибо за заказ! Мы скоро с вами свяжемся.`;\r\n          setTimeout(clearCart, 3000);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        modalBody.innerHTML = `<h3 class=\"card-title\">Извините, невозможно оформить заказ.`;\r\n        setTimeout(clearCart, 3000);\r\n        console.log(err.message);\r\n      });\r\n  });\r\n};\r\n\n;// CONCATENATED MODULE: ./modules/swiper.js\nconst swiper = new Swiper('.swiper', {\r\n  loop: true,\r\n\r\n  // autoplay: {\r\n  //   delay: 2500,\r\n  //   disableOnInteraction: false,\r\n  // },\r\n\r\n  pagination: {\r\n    el: '.swiper-pagination',\r\n    clickable: true,\r\n  },\r\n\r\n  navigation: {\r\n    nextEl: '.swiper-button-next',\r\n    prevEl: '.swiper-button-prev',\r\n  },\r\n});\r\n\n;// CONCATENATED MODULE: ./modules/partners.js\nconst partners = () => {\r\n  const cardsContainer = document.querySelector('.cards-restaurants');\r\n\r\n  const renderCard = (restaurant) => {\r\n    const { name, time_of_delivery, stars, price, kitchen, image } = restaurant;\r\n\r\n    const card = document.createElement('a');\r\n    card.classList.add('card', 'card-restaurant');\r\n    card.href = 'restaurant.html';\r\n\r\n    card.innerHTML = `\r\n      <img src=${image} alt=\"image\" class=\"card-image\" />\r\n        <div class=\"card-text\">\r\n          <div class=\"card-heading\">\r\n            <h3 class=\"card-title\">${name}</h3>\r\n            <span class=\"card-tag tag\">${time_of_delivery} мин</span>\r\n          </div>\r\n          <div class=\"card-info\">\r\n            <div class=\"rating\">${stars}</div>\r\n            <div class=\"price\">От ${price} ₽</div>\r\n            <div class=\"category\">${kitchen}</div>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n    cardsContainer.append(card);\r\n\r\n    card.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n\r\n      if (localStorage.getItem('user')) {\r\n        localStorage.setItem('restaurant', JSON.stringify(restaurant));\r\n        window.location = 'restaurant.html';\r\n      } else {\r\n        document.querySelector('.modal-auth').classList.add('open');\r\n      }\r\n    });\r\n  };\r\n\r\n  fetch('https://deliveryfood-b2697-default-rtdb.firebaseio.com/db/partners.json')\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        cardsContainer.innerHTML = `\r\n          <h3 class=\"card-title\">Извините, невозможно отобразить данные.<br>\r\n          Ошибка ${res.status} - ${res.statusText}</h3>\r\n        `;\r\n        throw new Error(`error: ${res.status} ${res.statusText}`);\r\n      }\r\n    })\r\n    .then((data) => data.forEach((restaurant) => renderCard(restaurant)))\r\n    .catch((err) => console.log(err.message));\r\n};\r\n\n;// CONCATENATED MODULE: ./index.js\n\r\n\r\n\r\n\r\n\r\nauth();\r\ncart();\r\npartners();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOzs7QUNqQk07QUFDUDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUF1RDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUMseUNBQXlDLGtCQUFrQjtBQUMzRDtBQUNBO0FBQ0Esa0NBQWtDLE1BQU07QUFDeEMsb0NBQW9DLE9BQU87QUFDM0Msb0NBQW9DLFFBQVE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWSxJQUFJLGVBQWU7QUFDbEQ7QUFDQSxrQ0FBa0MsWUFBWSxFQUFFLGVBQWU7QUFDL0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOzs7QUNyRHNDO0FBQ0E7QUFDSTtBQUNJO0FBQzlDO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSixRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9hdXRoLmpzPzRhNDIiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9tZW51LmpzPzUyNGIiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9jYXJ0LmpzPzJhZmEiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9zd2lwZXIuanM/OWU1ZiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL3BhcnRuZXJzLmpzPzYzMGYiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYXV0aCA9ICgpID0+IHtcclxuICBjb25zdCBidXR0b25BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1hdXRoJyk7XHJcbiAgY29uc3QgYnV0dG9uT3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1vdXQnKTtcclxuICBjb25zdCBidXR0b25DYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1jYXJ0Jyk7XHJcbiAgY29uc3QgbW9kYWxBdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWF1dGgnKTtcclxuICBjb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLW5hbWUnKTtcclxuICBjb25zdCBsb2dJbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nSW5Gb3JtJyk7XHJcblxyXG4gIGNvbnN0IG9wZW5Nb2RhbEF1dGggPSAoKSA9PiBtb2RhbEF1dGguY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG5cclxuICBjb25zdCBjbG9zZU1vZGFsQXV0aCA9IChlKSA9PiB7XHJcbiAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsQXV0aCB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlLWF1dGgnKSB8fCBlLnR5cGUgPT09ICdzdWJtaXQnKSB7XHJcbiAgICAgIG1vZGFsQXV0aC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXNlckxvZ0luID0gKGxvZ2luKSA9PiB7XHJcbiAgICBidXR0b25BdXRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBidXR0b25PdXQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIGJ1dHRvbkNhcnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIHVzZXJOYW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSBsb2dpbjtcclxuICB9O1xyXG5cclxuICBjb25zdCB1c2VyTG9nT3V0ID0gKCkgPT4ge1xyXG4gICAgYnV0dG9uQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgYnV0dG9uT3V0LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIGJ1dHRvbkNhcnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgdXNlck5hbWUuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSAnJztcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmVzdGF1cmFudC5odG1sJykgd2luZG93LmxvY2F0aW9uID0gJ2luZGV4Lmh0bWwnO1xyXG4gIH07XHJcblxyXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB7XHJcbiAgICB1c2VyTG9nSW4oSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKS5sb2dpbik7XHJcbiAgfVxyXG5cclxuICBidXR0b25BdXRoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsQXV0aCk7XHJcbiAgbW9kYWxBdXRoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNb2RhbEF1dGgpO1xyXG4gIGJ1dHRvbk91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVzZXJMb2dPdXQpO1xyXG5cclxuICBsb2dJbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjb25zdCBsb2dpbiA9IGxvZ0luRm9ybS5xdWVyeVNlbGVjdG9yKCcjbG9naW4nKS52YWx1ZTtcclxuICAgIGNvbnN0IHBhc3N3b3JkID0gbG9nSW5Gb3JtLnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpLnZhbHVlO1xyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkoeyBsb2dpbiwgcGFzc3dvcmQgfSkpO1xyXG5cclxuICAgIGNsb3NlTW9kYWxBdXRoKGUpO1xyXG4gICAgdXNlckxvZ0luKGxvZ2luKTtcclxuICB9KTtcclxufTtcclxuIiwiZXhwb3J0IGxldCBwcm9kdWN0cyA9IFtdO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1lbnUgPSAoKSA9PiB7XHJcbiAgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHMtbWVudScpO1xyXG4gIGNvbnN0IHJlc3RhdXJhbnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXN0YXVyYW50JykpO1xyXG5cclxuICBjb25zdCB1cGRhdGVIZWFkaW5nID0gKHJlc3RhdXJhbnQpID0+IHtcclxuICAgIGNvbnN0IHsgbmFtZSwgc3RhcnMsIHByaWNlLCBraXRjaGVuIH0gPSByZXN0YXVyYW50O1xyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN0YXVyYW50LXRpdGxlJykudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtaW5mbyAucmF0aW5nJykudGV4dENvbnRlbnQgPSBzdGFycztcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWluZm8gLnByaWNlJykudGV4dENvbnRlbnQgPSBg0J7RgiAke3ByaWNlfSDigr1gO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtaW5mbyAuY2F0ZWdvcnknKS50ZXh0Q29udGVudCA9IGtpdGNoZW47XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVuZGVyQ2FyZCA9IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiwgcHJpY2UsIGltYWdlIH0gPSBwcm9kdWN0O1xyXG5cclxuICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xyXG5cclxuICAgIGNhcmQuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8aW1nIHNyYz0ke2ltYWdlfSBhbHQ9XCJpbWFnZVwiIGNsYXNzPVwiY2FyZC1pbWFnZVwiIC8+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXRleHRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1oZWFkaW5nXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlIGNhcmQtdGl0bGUtcmVnXCI+JHtuYW1lfTwvaDM+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaW5mb1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImluZ3JlZGllbnRzXCI+JHtkZXNjcmlwdGlvbn08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1idXR0b25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1hZGQtY2FydFwiIGRhdGEtaWQ9JHtpZH0+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnV0dG9uLWNhcmQtdGV4dFwiPtCSINC60L7RgNC30LjQvdGDPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ1dHRvbi1jYXJ0LXN2Z1wiPjwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPHN0cm9uZyBjbGFzcz1cImNhcmQtcHJpY2UtYm9sZFwiPiR7cHJpY2V9IOKCvTwvc3Ryb25nPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgYDtcclxuXHJcbiAgICBjYXJkc0NvbnRhaW5lci5hcHBlbmQoY2FyZCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB3aW5kb3cubG9jYXRpb24gPSAnaW5kZXguaHRtbCc7XHJcblxyXG4gIGlmIChyZXN0YXVyYW50KSB7XHJcbiAgICB1cGRhdGVIZWFkaW5nKHJlc3RhdXJhbnQpO1xyXG5cclxuICAgIGZldGNoKGBodHRwczovL2RlbGl2ZXJ5Zm9vZC1iMjY5Ny1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vZGIvJHtyZXN0YXVyYW50LnByb2R1Y3RzfWApXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2FyZHNDb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlXCI+0JjQt9Cy0LjQvdC40YLQtSwg0L3QtdCy0L7Qt9C80L7QttC90L4g0L7RgtC+0LHRgNCw0LfQuNGC0Ywg0L/RgNC+0LTRg9C60YLRiy48YnI+XHJcbiAgICAgICAgICAgINCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9IC0gJHtyZXMuc3RhdHVzVGV4dH08L2gzPlxyXG4gICAgICAgICAgYDtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZXJyb3I6ICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKChwcm9kdWN0KSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJDYXJkKHByb2R1Y3QpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHsgaWQsIG5hbWUsIHByaWNlIH0gPSBwcm9kdWN0O1xyXG4gICAgICAgICAgcHJvZHVjdHMucHVzaCh7IGlkLCBuYW1lLCBwcmljZSwgY291bnQ6IDEgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24gPSAnaW5kZXguaHRtbCc7XHJcbiAgfVxyXG59O1xyXG4iLCJpbXBvcnQgeyBwcm9kdWN0cyB9IGZyb20gJy4vbWVudSc7XHJcblxyXG5leHBvcnQgY29uc3QgY2FydCA9ICgpID0+IHtcclxuICBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkcy1tZW51Jyk7XHJcbiAgY29uc3QgYnV0dG9uQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY2FydCcpO1xyXG4gIGNvbnN0IG1vZGFsQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jYXJ0Jyk7XHJcbiAgY29uc3QgbW9kYWxCb2R5ID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1ib2R5Jyk7XHJcbiAgY29uc3QgbW9kYWxTdW0gPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXByaWNldGFnJyk7XHJcbiAgY29uc3QgY2xlYXJCdG4gPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLmNsZWFyLWNhcnQnKTtcclxuICBjb25zdCBzZW5kQnRuID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tc2VuZCcpO1xyXG4gIGNvbnN0IG1heFF1YW50aXR5ID0gMTA7XHJcbiAgbGV0IGNhcnRBcnIgPSBbXTtcclxuXHJcbiAgY29uc3Qgb3Blbk1vZGFsQ2FydCA9ICgpID0+IG1vZGFsQ2FydC5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcblxyXG4gIGNvbnN0IGNsb3NlTW9kYWxDYXJ0ID0gKGUpID0+IHtcclxuICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWxDYXJ0IHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKSkge1xyXG4gICAgICBtb2RhbENhcnQuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChpZCkgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcclxuICAgIGNvbnN0IHByb2R1Y3RJbkNhcnQgPSBjYXJ0QXJyLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQpO1xyXG5cclxuICAgIHByb2R1Y3RJbkNhcnQgPyBwcm9kdWN0SW5DYXJ0LmNvdW50KysgOiBjYXJ0QXJyLnB1c2gocHJvZHVjdCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2F2ZUNhcnQgPSAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnRBcnIpKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbGVhckNhcnQgPSAoKSA9PiB7XHJcbiAgICBjYXJ0QXJyID0gW107XHJcbiAgICBtb2RhbEJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBtb2RhbFN1bS50ZXh0Q29udGVudCA9IGAwIOKCvWA7XHJcbiAgICBzZW5kQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgIG1vZGFsQ2FydC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY2FydCcpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNhbGN1bGF0ZVN1bSA9ICgpID0+IHtcclxuICAgIGxldCBzdW0gPSBjYXJ0QXJyLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBpdGVtLnByaWNlICogaXRlbS5jb3VudCArIHN1bSwgMCk7XHJcbiAgICBtb2RhbFN1bS50ZXh0Q29udGVudCA9IGAke3N1bX0g4oK9YDtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJNb2RhbENhcnQgPSAoKSA9PiB7XHJcbiAgICBtb2RhbEJvZHkuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgY2FydEFyci5mb3JFYWNoKCh7IGlkLCBuYW1lLCBwcmljZSwgY291bnQgfSkgPT4ge1xyXG4gICAgICBjb25zdCBmb29kUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIGZvb2RSb3cuY2xhc3NMaXN0LmFkZCgnZm9vZC1yb3cnKTtcclxuXHJcbiAgICAgIGZvb2RSb3cuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZm9vZC1uYW1lXCI+JHtuYW1lfTwvc3Bhbj5cclxuICAgICAgICA8c3Ryb25nIGNsYXNzPVwiZm9vZC1wcmljZVwiPiR7cHJpY2V9IOKCvTwvc3Ryb25nPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb29kLWNvdW50ZXJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjb3VudGVyLWJ1dHRvbiBidG4tbWludXNcIiBkYXRhLWlkPSR7aWR9Pi08L2J1dHRvbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY291bnRlclwiPiR7Y291bnR9PC9zcGFuPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvdW50ZXItYnV0dG9uIGJ0bi1wbHVzXCIgZGF0YS1pZD0ke2lkfT4rPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIGA7XHJcblxyXG4gICAgICBtb2RhbEJvZHkuYXBwZW5kKGZvb2RSb3cpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VuZEJ0bi5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcblxyXG4gICAgY2FsY3VsYXRlU3VtKCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpIHtcclxuICAgIGNhcnRBcnIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpO1xyXG4gICAgcmVuZGVyTW9kYWxDYXJ0KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoY2FyZHNDb250YWluZXIpIHtcclxuICAgIGNhcmRzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5idXR0b24tYWRkLWNhcnQnKSkge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5idXR0b24tYWRkLWNhcnQnKTtcclxuXHJcbiAgICAgICAgYWRkVG9DYXJ0KGJ0bi5kYXRhc2V0LmlkKTtcclxuICAgICAgICBzYXZlQ2FydCgpO1xyXG4gICAgICAgIHJlbmRlck1vZGFsQ2FydCgpO1xyXG4gICAgICAgIG9wZW5Nb2RhbENhcnQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBidXR0b25DYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsQ2FydCk7XHJcbiAgbW9kYWxDYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNb2RhbENhcnQpO1xyXG4gIGNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xlYXJDYXJ0KTtcclxuXHJcbiAgbW9kYWxCb2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NvdW50ZXItYnV0dG9uJykpIHtcclxuICAgICAgY29uc3QgYnRuID0gZS50YXJnZXQ7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBjYXJ0QXJyLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGJ0bi5kYXRhc2V0LmlkKTtcclxuXHJcbiAgICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdidG4tbWludXMnKSAmJiBwcm9kdWN0LmNvdW50ID4gMCkge1xyXG4gICAgICAgIGJ0bi5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQtLTtcclxuICAgICAgICBwcm9kdWN0LmNvdW50LS07XHJcbiAgICAgIH0gZWxzZSBpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnYnRuLXBsdXMnKSAmJiBwcm9kdWN0LmNvdW50IDwgbWF4UXVhbnRpdHkpIHtcclxuICAgICAgICBidG4ucHJldmlvdXNFbGVtZW50U2libGluZy50ZXh0Q29udGVudCsrO1xyXG4gICAgICAgIHByb2R1Y3QuY291bnQrKztcclxuICAgICAgfVxyXG5cclxuICAgICAgY2FsY3VsYXRlU3VtKCk7XHJcbiAgICAgIHNhdmVDYXJ0KCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgbW9kYWxCb2R5LmlubmVySFRNTCA9IGA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlXCI+0KHQv9Cw0YHQuNCx0L4g0LfQsCDQt9Cw0LrQsNC3ISDQnNGLINGB0LrQvtGA0L4g0YEg0LLQsNC80Lgg0YHQstGP0LbQtdC80YHRjy5gO1xyXG4gICAgICAgICAgc2V0VGltZW91dChjbGVhckNhcnQsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBtb2RhbEJvZHkuaW5uZXJIVE1MID0gYDxoMyBjbGFzcz1cImNhcmQtdGl0bGVcIj7QmNC30LLQuNC90LjRgtC1LCDQvdC10LLQvtC30LzQvtC20L3QviDQvtGE0L7RgNC80LjRgtGMINC30LDQutCw0LcuYDtcclxuICAgICAgICBzZXRUaW1lb3V0KGNsZWFyQ2FydCwgMzAwMCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXInLCB7XHJcbiAgbG9vcDogdHJ1ZSxcclxuXHJcbiAgLy8gYXV0b3BsYXk6IHtcclxuICAvLyAgIGRlbGF5OiAyNTAwLFxyXG4gIC8vICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxyXG4gIC8vIH0sXHJcblxyXG4gIHBhZ2luYXRpb246IHtcclxuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcclxuICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBuYXZpZ2F0aW9uOiB7XHJcbiAgICBuZXh0RWw6ICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcclxuICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCJleHBvcnQgY29uc3QgcGFydG5lcnMgPSAoKSA9PiB7XHJcbiAgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHMtcmVzdGF1cmFudHMnKTtcclxuXHJcbiAgY29uc3QgcmVuZGVyQ2FyZCA9IChyZXN0YXVyYW50KSA9PiB7XHJcbiAgICBjb25zdCB7IG5hbWUsIHRpbWVfb2ZfZGVsaXZlcnksIHN0YXJzLCBwcmljZSwga2l0Y2hlbiwgaW1hZ2UgfSA9IHJlc3RhdXJhbnQ7XHJcblxyXG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZCcsICdjYXJkLXJlc3RhdXJhbnQnKTtcclxuICAgIGNhcmQuaHJlZiA9ICdyZXN0YXVyYW50Lmh0bWwnO1xyXG5cclxuICAgIGNhcmQuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8aW1nIHNyYz0ke2ltYWdlfSBhbHQ9XCJpbWFnZVwiIGNsYXNzPVwiY2FyZC1pbWFnZVwiIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtdGV4dFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaGVhZGluZ1wiPlxyXG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlXCI+JHtuYW1lfTwvaDM+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZC10YWcgdGFnXCI+JHt0aW1lX29mX2RlbGl2ZXJ5fSDQvNC40L08L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWluZm9cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhdGluZ1wiPiR7c3RhcnN9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmljZVwiPtCe0YIgJHtwcmljZX0g4oK9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXRlZ29yeVwiPiR7a2l0Y2hlbn08L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgO1xyXG5cclxuICAgIGNhcmRzQ29udGFpbmVyLmFwcGVuZChjYXJkKTtcclxuXHJcbiAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVzdGF1cmFudCcsIEpTT04uc3RyaW5naWZ5KHJlc3RhdXJhbnQpKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAncmVzdGF1cmFudC5odG1sJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtYXV0aCcpLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZmV0Y2goJ2h0dHBzOi8vZGVsaXZlcnlmb29kLWIyNjk3LWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9kYi9wYXJ0bmVycy5qc29uJylcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNhcmRzQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgIDxoMyBjbGFzcz1cImNhcmQtdGl0bGVcIj7QmNC30LLQuNC90LjRgtC1LCDQvdC10LLQvtC30LzQvtC20L3QviDQvtGC0L7QsdGA0LDQt9C40YLRjCDQtNCw0L3QvdGL0LUuPGJyPlxyXG4gICAgICAgICAg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c30gLSAke3Jlcy5zdGF0dXNUZXh0fTwvaDM+XHJcbiAgICAgICAgYDtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGVycm9yOiAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbigoZGF0YSkgPT4gZGF0YS5mb3JFYWNoKChyZXN0YXVyYW50KSA9PiByZW5kZXJDYXJkKHJlc3RhdXJhbnQpKSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBhdXRoIH0gZnJvbSAnLi9tb2R1bGVzL2F1dGgnO1xyXG5pbXBvcnQgeyBjYXJ0IH0gZnJvbSAnLi9tb2R1bGVzL2NhcnQnO1xyXG5pbXBvcnQgeyBzd2lwZXIgfSBmcm9tICcuL21vZHVsZXMvc3dpcGVyJztcclxuaW1wb3J0IHsgcGFydG5lcnMgfSBmcm9tICcuL21vZHVsZXMvcGFydG5lcnMnO1xyXG5cclxuYXV0aCgpO1xyXG5jYXJ0KCk7XHJcbnBhcnRuZXJzKCk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///604\n")}},__webpack_exports__={};__webpack_modules__[604]()})();