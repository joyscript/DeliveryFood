(()=>{"use strict";var __webpack_modules__={604:()=>{eval("\n;// CONCATENATED MODULE: ./modules/auth.js\nconst auth = () => {\r\n  const buttonAuth = document.querySelector('.button-auth');\r\n  const buttonOut = document.querySelector('.button-out');\r\n  const buttonCart = document.querySelector('.button-cart');\r\n  const modalAuth = document.querySelector('.modal-auth');\r\n  const userName = document.querySelector('.user-name');\r\n  const logInForm = document.getElementById('logInForm');\r\n\r\n  const openModalAuth = () => modalAuth.classList.add('open');\r\n\r\n  const closeModalAuth = (e) => {\r\n    if (e.target === modalAuth || e.target.classList.contains('close-auth') || e.type === 'submit') {\r\n      modalAuth.classList.remove('open');\r\n    }\r\n  };\r\n\r\n  const userLogIn = (login) => {\r\n    buttonAuth.style.display = 'none';\r\n    buttonOut.style.display = 'flex';\r\n    buttonCart.style.display = 'flex';\r\n    userName.style.display = 'block';\r\n    userName.textContent = login;\r\n  };\r\n\r\n  const userLogOut = () => {\r\n    buttonAuth.style.display = 'flex';\r\n    buttonOut.style.display = '';\r\n    buttonCart.style.display = '';\r\n    userName.style.display = '';\r\n    userName.textContent = '';\r\n\r\n    localStorage.clear();\r\n    if (window.location.pathname === '/restaurant.html') window.location = 'index.html';\r\n  };\r\n\r\n  if (localStorage.getItem('user')) {\r\n    userLogIn(JSON.parse(localStorage.getItem('user')).login);\r\n  }\r\n\r\n  buttonAuth.addEventListener('click', openModalAuth);\r\n  modalAuth.addEventListener('click', closeModalAuth);\r\n  buttonOut.addEventListener('click', userLogOut);\r\n\r\n  logInForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n\r\n    const login = logInForm.querySelector('#login').value;\r\n    const password = logInForm.querySelector('#password').value;\r\n\r\n    localStorage.setItem('user', JSON.stringify({ login, password }));\r\n\r\n    closeModalAuth(e);\r\n    userLogIn(login);\r\n  });\r\n};\r\n\n;// CONCATENATED MODULE: ./modules/menu.js\nlet products = [];\r\n\r\nconst menu = () => {\r\n  const cardsContainer = document.querySelector('.cards-menu');\r\n  const restaurant = JSON.parse(localStorage.getItem('restaurant'));\r\n\r\n  const updateHeading = (restaurant) => {\r\n    const { name, stars, price, kitchen } = restaurant;\r\n\r\n    document.querySelector('.restaurant-title').textContent = name;\r\n    document.querySelector('.card-info .rating').textContent = stars;\r\n    document.querySelector('.card-info .price').textContent = `От ${price} ₽`;\r\n    document.querySelector('.card-info .category').textContent = kitchen;\r\n  };\r\n\r\n  const renderCard = (product) => {\r\n    const { id, name, description, price, image } = product;\r\n\r\n    const card = document.createElement('div');\r\n    card.classList.add('card');\r\n\r\n    card.innerHTML = `\r\n      <img src=${image} alt=\"image\" class=\"card-image\" />\r\n      <div class=\"card-text\">\r\n        <div class=\"card-heading\">\r\n          <h3 class=\"card-title card-title-reg\">${name}</h3>\r\n        </div>\r\n        <div class=\"card-info\">\r\n          <div class=\"ingredients\">${description}</div>\r\n        </div>\r\n        <div class=\"card-buttons\">\r\n          <button class=\"button button-primary button-add-cart\" data-id=${id}>\r\n            <span class=\"button-card-text\">В корзину</span>\r\n            <span class=\"button-cart-svg\"></span>\r\n          </button>\r\n          <strong class=\"card-price-bold\">${price} ₽</strong>\r\n        </div>\r\n      </div>\r\n      `;\r\n\r\n    cardsContainer.append(card);\r\n  };\r\n\r\n  if (!localStorage.getItem('user')) window.location = 'index.html';\r\n\r\n  if (restaurant) {\r\n    updateHeading(restaurant);\r\n\r\n    fetch(`https://deliveryfood-b2697-default-rtdb.firebaseio.com/db/${restaurant.products}`)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          cardsContainer.innerHTML = `\r\n            <h3 class=\"card-title\">Извините, невозможно отобразить продукты.<br>\r\n            Ошибка ${res.status} - ${res.statusText}</h3>\r\n          `;\r\n          throw new Error(`error: ${res.status} ${res.statusText}`);\r\n        }\r\n      })\r\n      .then((data) => {\r\n        data.forEach((product) => {\r\n          renderCard(product);\r\n\r\n          const { id, name, price } = product;\r\n          products.push({ id, name, price, count: 1 });\r\n        });\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  } else {\r\n    window.location = 'index.html';\r\n  }\r\n};\r\n\n;// CONCATENATED MODULE: ./modules/cart.js\n\r\n\r\nconst cart = () => {\r\n  const cardsContainer = document.querySelector('.cards-menu');\r\n  const buttonCart = document.querySelector('.button-cart');\r\n  const modalCart = document.querySelector('.modal-cart');\r\n  const modalBody = modalCart.querySelector('.modal-body');\r\n  const modalSum = modalCart.querySelector('.modal-pricetag');\r\n  const clearBtn = modalCart.querySelector('.clear-cart');\r\n  const sendBtn = modalCart.querySelector('.button-send');\r\n  const maxQuantity = 10;\r\n  let cartArr = [];\r\n\r\n  const openModalCart = () => modalCart.classList.add('open');\r\n\r\n  const closeModalCart = (e) => {\r\n    if (e.target === modalCart || e.target.classList.contains('close')) {\r\n      modalCart.classList.remove('open');\r\n    }\r\n  };\r\n\r\n  const addToCart = (id) => {\r\n    const product = products.find((item) => item.id === id);\r\n    const productInCart = cartArr.find((item) => item.id === product.id);\r\n\r\n    productInCart ? productInCart.count++ : cartArr.push(product);\r\n  };\r\n\r\n  const saveCart = () => {\r\n    localStorage.setItem('cart', JSON.stringify(cartArr));\r\n  };\r\n\r\n  const clearCart = () => {\r\n    cartArr = [];\r\n    modalBody.innerHTML = '';\r\n    modalSum.textContent = `0 ₽`;\r\n    modalCart.classList.remove('open');\r\n    localStorage.removeItem('cart');\r\n  };\r\n\r\n  const calculateSum = () => {\r\n    let sum = cartArr.reduce((sum, item) => item.price * item.count + sum, 0);\r\n    modalSum.textContent = `${sum} ₽`;\r\n  };\r\n\r\n  const renderModalCart = () => {\r\n    modalBody.innerHTML = '';\r\n\r\n    cartArr.forEach(({ id, name, price, count }) => {\r\n      const foodRow = document.createElement('div');\r\n      foodRow.classList.add('food-row');\r\n\r\n      foodRow.innerHTML = `\r\n        <span class=\"food-name\">${name}</span>\r\n        <strong class=\"food-price\">${price} ₽</strong>\r\n        <div class=\"food-counter\">\r\n          <button class=\"counter-button btn-minus\" data-id=${id}>-</button>\r\n          <span class=\"counter\">${count}</span>\r\n          <button class=\"counter-button btn-plus\" data-id=${id}>+</button>\r\n        </div>\r\n      `;\r\n\r\n      modalBody.append(foodRow);\r\n    });\r\n\r\n    calculateSum();\r\n  };\r\n\r\n  // --------------------------------\r\n\r\n  if (localStorage.getItem('cart')) {\r\n    cartArr = JSON.parse(localStorage.getItem('cart'));\r\n    renderModalCart();\r\n  }\r\n\r\n  if (cardsContainer) {\r\n    cardsContainer.addEventListener('click', (e) => {\r\n      if (e.target.closest('.button-add-cart')) {\r\n        const btn = e.target.closest('.button-add-cart');\r\n\r\n        addToCart(btn.dataset.id);\r\n        saveCart();\r\n        renderModalCart();\r\n        openModalCart();\r\n      }\r\n    });\r\n  }\r\n\r\n  buttonCart.addEventListener('click', openModalCart);\r\n  modalCart.addEventListener('click', closeModalCart);\r\n  clearBtn.addEventListener('click', clearCart);\r\n\r\n  modalBody.addEventListener('click', (e) => {\r\n    if (e.target.classList.contains('counter-button')) {\r\n      const btn = e.target;\r\n      const product = cartArr.find((item) => item.id === btn.dataset.id);\r\n\r\n      if (btn.classList.contains('btn-minus') && product.count > 0) {\r\n        btn.nextElementSibling.textContent--;\r\n        product.count--;\r\n      } else if (btn.classList.contains('btn-plus') && product.count < maxQuantity) {\r\n        btn.previousElementSibling.textContent++;\r\n        product.count++;\r\n      }\r\n\r\n      calculateSum();\r\n      saveCart();\r\n    }\r\n  });\r\n\r\n  sendBtn.addEventListener('click', () => {\r\n    fetch('https://jsonplaceholder.typicode.com/posts', {\r\n      method: 'POST',\r\n      body: localStorage.getItem('cart'),\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          modalBody.innerHTML = `<h3 class=\"card-title\">Спасибо! Ваш заказ отправлен.`;\r\n          setTimeout(clearCart, 3000);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        modalBody.innerHTML = `<h3 class=\"card-title\">Извините, невозможно оформить заказ.`;\r\n        setTimeout(clearCart, 3000);\r\n        console.log(err.message);\r\n      });\r\n  });\r\n};\r\n\n;// CONCATENATED MODULE: ./modules/swiper.js\nconst swiper = new Swiper('.swiper', {\r\n  loop: true,\r\n\r\n  // autoplay: {\r\n  //   delay: 2500,\r\n  //   disableOnInteraction: false,\r\n  // },\r\n\r\n  pagination: {\r\n    el: '.swiper-pagination',\r\n    clickable: true,\r\n  },\r\n\r\n  navigation: {\r\n    nextEl: '.swiper-button-next',\r\n    prevEl: '.swiper-button-prev',\r\n  },\r\n});\r\n\n;// CONCATENATED MODULE: ./modules/partners.js\nconst partners = () => {\r\n  const cardsContainer = document.querySelector('.cards-restaurants');\r\n\r\n  const renderCard = (restaurant) => {\r\n    const { name, time_of_delivery, stars, price, kitchen, image } = restaurant;\r\n\r\n    const card = document.createElement('a');\r\n    card.classList.add('card', 'card-restaurant');\r\n    card.href = 'restaurant.html';\r\n\r\n    card.innerHTML = `\r\n      <img src=${image} alt=\"image\" class=\"card-image\" />\r\n        <div class=\"card-text\">\r\n          <div class=\"card-heading\">\r\n            <h3 class=\"card-title\">${name}</h3>\r\n            <span class=\"card-tag tag\">${time_of_delivery} мин</span>\r\n          </div>\r\n          <div class=\"card-info\">\r\n            <div class=\"rating\">${stars}</div>\r\n            <div class=\"price\">От ${price} ₽</div>\r\n            <div class=\"category\">${kitchen}</div>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n    cardsContainer.append(card);\r\n\r\n    card.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n\r\n      if (localStorage.getItem('user')) {\r\n        localStorage.setItem('restaurant', JSON.stringify(restaurant));\r\n        window.location = 'restaurant.html';\r\n      } else {\r\n        document.querySelector('.modal-auth').classList.add('open');\r\n      }\r\n    });\r\n  };\r\n\r\n  fetch('https://deliveryfood-b2697-default-rtdb.firebaseio.com/db/partners.json')\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        cardsContainer.innerHTML = `\r\n          <h3 class=\"card-title\">Извините, невозможно отобразить данные.<br>\r\n          Ошибка ${res.status} - ${res.statusText}</h3>\r\n        `;\r\n        throw new Error(`error: ${res.status} ${res.statusText}`);\r\n      }\r\n    })\r\n    .then((data) => data.forEach((restaurant) => renderCard(restaurant)))\r\n    .catch((err) => console.log(err.message));\r\n};\r\n\n;// CONCATENATED MODULE: ./index.js\n\r\n\r\n\r\n\r\n\r\nauth();\r\ncart();\r\npartners();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOzs7QUNqQk07QUFDUDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUF1RDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUMseUNBQXlDLGtCQUFrQjtBQUMzRDtBQUNBO0FBQ0Esa0NBQWtDLE1BQU07QUFDeEMsb0NBQW9DLE9BQU87QUFDM0Msb0NBQW9DLFFBQVE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWSxJQUFJLGVBQWU7QUFDbEQ7QUFDQSxrQ0FBa0MsWUFBWSxFQUFFLGVBQWU7QUFDL0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOzs7QUNyRHNDO0FBQ0E7QUFDSTtBQUNJO0FBQzlDO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSixRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9hdXRoLmpzPzRhNDIiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9tZW51LmpzPzUyNGIiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9jYXJ0LmpzPzJhZmEiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9zd2lwZXIuanM/OWU1ZiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL3BhcnRuZXJzLmpzPzYzMGYiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYXV0aCA9ICgpID0+IHtcclxuICBjb25zdCBidXR0b25BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1hdXRoJyk7XHJcbiAgY29uc3QgYnV0dG9uT3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1vdXQnKTtcclxuICBjb25zdCBidXR0b25DYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1jYXJ0Jyk7XHJcbiAgY29uc3QgbW9kYWxBdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWF1dGgnKTtcclxuICBjb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLW5hbWUnKTtcclxuICBjb25zdCBsb2dJbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nSW5Gb3JtJyk7XHJcblxyXG4gIGNvbnN0IG9wZW5Nb2RhbEF1dGggPSAoKSA9PiBtb2RhbEF1dGguY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG5cclxuICBjb25zdCBjbG9zZU1vZGFsQXV0aCA9IChlKSA9PiB7XHJcbiAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsQXV0aCB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlLWF1dGgnKSB8fCBlLnR5cGUgPT09ICdzdWJtaXQnKSB7XHJcbiAgICAgIG1vZGFsQXV0aC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXNlckxvZ0luID0gKGxvZ2luKSA9PiB7XHJcbiAgICBidXR0b25BdXRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBidXR0b25PdXQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIGJ1dHRvbkNhcnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIHVzZXJOYW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSBsb2dpbjtcclxuICB9O1xyXG5cclxuICBjb25zdCB1c2VyTG9nT3V0ID0gKCkgPT4ge1xyXG4gICAgYnV0dG9uQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgYnV0dG9uT3V0LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIGJ1dHRvbkNhcnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgdXNlck5hbWUuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSAnJztcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmVzdGF1cmFudC5odG1sJykgd2luZG93LmxvY2F0aW9uID0gJ2luZGV4Lmh0bWwnO1xyXG4gIH07XHJcblxyXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB7XHJcbiAgICB1c2VyTG9nSW4oSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKS5sb2dpbik7XHJcbiAgfVxyXG5cclxuICBidXR0b25BdXRoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsQXV0aCk7XHJcbiAgbW9kYWxBdXRoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNb2RhbEF1dGgpO1xyXG4gIGJ1dHRvbk91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVzZXJMb2dPdXQpO1xyXG5cclxuICBsb2dJbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjb25zdCBsb2dpbiA9IGxvZ0luRm9ybS5xdWVyeVNlbGVjdG9yKCcjbG9naW4nKS52YWx1ZTtcclxuICAgIGNvbnN0IHBhc3N3b3JkID0gbG9nSW5Gb3JtLnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpLnZhbHVlO1xyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkoeyBsb2dpbiwgcGFzc3dvcmQgfSkpO1xyXG5cclxuICAgIGNsb3NlTW9kYWxBdXRoKGUpO1xyXG4gICAgdXNlckxvZ0luKGxvZ2luKTtcclxuICB9KTtcclxufTtcclxuIiwiZXhwb3J0IGxldCBwcm9kdWN0cyA9IFtdO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1lbnUgPSAoKSA9PiB7XHJcbiAgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHMtbWVudScpO1xyXG4gIGNvbnN0IHJlc3RhdXJhbnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXN0YXVyYW50JykpO1xyXG5cclxuICBjb25zdCB1cGRhdGVIZWFkaW5nID0gKHJlc3RhdXJhbnQpID0+IHtcclxuICAgIGNvbnN0IHsgbmFtZSwgc3RhcnMsIHByaWNlLCBraXRjaGVuIH0gPSByZXN0YXVyYW50O1xyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN0YXVyYW50LXRpdGxlJykudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtaW5mbyAucmF0aW5nJykudGV4dENvbnRlbnQgPSBzdGFycztcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWluZm8gLnByaWNlJykudGV4dENvbnRlbnQgPSBg0J7RgiAke3ByaWNlfSDigr1gO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtaW5mbyAuY2F0ZWdvcnknKS50ZXh0Q29udGVudCA9IGtpdGNoZW47XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVuZGVyQ2FyZCA9IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiwgcHJpY2UsIGltYWdlIH0gPSBwcm9kdWN0O1xyXG5cclxuICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xyXG5cclxuICAgIGNhcmQuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8aW1nIHNyYz0ke2ltYWdlfSBhbHQ9XCJpbWFnZVwiIGNsYXNzPVwiY2FyZC1pbWFnZVwiIC8+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXRleHRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1oZWFkaW5nXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlIGNhcmQtdGl0bGUtcmVnXCI+JHtuYW1lfTwvaDM+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaW5mb1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImluZ3JlZGllbnRzXCI+JHtkZXNjcmlwdGlvbn08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1idXR0b25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1hZGQtY2FydFwiIGRhdGEtaWQ9JHtpZH0+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnV0dG9uLWNhcmQtdGV4dFwiPtCSINC60L7RgNC30LjQvdGDPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ1dHRvbi1jYXJ0LXN2Z1wiPjwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPHN0cm9uZyBjbGFzcz1cImNhcmQtcHJpY2UtYm9sZFwiPiR7cHJpY2V9IOKCvTwvc3Ryb25nPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgYDtcclxuXHJcbiAgICBjYXJkc0NvbnRhaW5lci5hcHBlbmQoY2FyZCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB3aW5kb3cubG9jYXRpb24gPSAnaW5kZXguaHRtbCc7XHJcblxyXG4gIGlmIChyZXN0YXVyYW50KSB7XHJcbiAgICB1cGRhdGVIZWFkaW5nKHJlc3RhdXJhbnQpO1xyXG5cclxuICAgIGZldGNoKGBodHRwczovL2RlbGl2ZXJ5Zm9vZC1iMjY5Ny1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vZGIvJHtyZXN0YXVyYW50LnByb2R1Y3RzfWApXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2FyZHNDb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlXCI+0JjQt9Cy0LjQvdC40YLQtSwg0L3QtdCy0L7Qt9C80L7QttC90L4g0L7RgtC+0LHRgNCw0LfQuNGC0Ywg0L/RgNC+0LTRg9C60YLRiy48YnI+XHJcbiAgICAgICAgICAgINCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9IC0gJHtyZXMuc3RhdHVzVGV4dH08L2gzPlxyXG4gICAgICAgICAgYDtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZXJyb3I6ICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKChwcm9kdWN0KSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJDYXJkKHByb2R1Y3QpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHsgaWQsIG5hbWUsIHByaWNlIH0gPSBwcm9kdWN0O1xyXG4gICAgICAgICAgcHJvZHVjdHMucHVzaCh7IGlkLCBuYW1lLCBwcmljZSwgY291bnQ6IDEgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24gPSAnaW5kZXguaHRtbCc7XHJcbiAgfVxyXG59O1xyXG4iLCJpbXBvcnQgeyBwcm9kdWN0cyB9IGZyb20gJy4vbWVudSc7XHJcblxyXG5leHBvcnQgY29uc3QgY2FydCA9ICgpID0+IHtcclxuICBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkcy1tZW51Jyk7XHJcbiAgY29uc3QgYnV0dG9uQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY2FydCcpO1xyXG4gIGNvbnN0IG1vZGFsQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jYXJ0Jyk7XHJcbiAgY29uc3QgbW9kYWxCb2R5ID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1ib2R5Jyk7XHJcbiAgY29uc3QgbW9kYWxTdW0gPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXByaWNldGFnJyk7XHJcbiAgY29uc3QgY2xlYXJCdG4gPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLmNsZWFyLWNhcnQnKTtcclxuICBjb25zdCBzZW5kQnRuID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tc2VuZCcpO1xyXG4gIGNvbnN0IG1heFF1YW50aXR5ID0gMTA7XHJcbiAgbGV0IGNhcnRBcnIgPSBbXTtcclxuXHJcbiAgY29uc3Qgb3Blbk1vZGFsQ2FydCA9ICgpID0+IG1vZGFsQ2FydC5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcblxyXG4gIGNvbnN0IGNsb3NlTW9kYWxDYXJ0ID0gKGUpID0+IHtcclxuICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWxDYXJ0IHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKSkge1xyXG4gICAgICBtb2RhbENhcnQuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChpZCkgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcclxuICAgIGNvbnN0IHByb2R1Y3RJbkNhcnQgPSBjYXJ0QXJyLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQpO1xyXG5cclxuICAgIHByb2R1Y3RJbkNhcnQgPyBwcm9kdWN0SW5DYXJ0LmNvdW50KysgOiBjYXJ0QXJyLnB1c2gocHJvZHVjdCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2F2ZUNhcnQgPSAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnRBcnIpKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbGVhckNhcnQgPSAoKSA9PiB7XHJcbiAgICBjYXJ0QXJyID0gW107XHJcbiAgICBtb2RhbEJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBtb2RhbFN1bS50ZXh0Q29udGVudCA9IGAwIOKCvWA7XHJcbiAgICBtb2RhbENhcnQuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhcnQnKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjYWxjdWxhdGVTdW0gPSAoKSA9PiB7XHJcbiAgICBsZXQgc3VtID0gY2FydEFyci5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gaXRlbS5wcmljZSAqIGl0ZW0uY291bnQgKyBzdW0sIDApO1xyXG4gICAgbW9kYWxTdW0udGV4dENvbnRlbnQgPSBgJHtzdW19IOKCvWA7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVuZGVyTW9kYWxDYXJ0ID0gKCkgPT4ge1xyXG4gICAgbW9kYWxCb2R5LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIGNhcnRBcnIuZm9yRWFjaCgoeyBpZCwgbmFtZSwgcHJpY2UsIGNvdW50IH0pID0+IHtcclxuICAgICAgY29uc3QgZm9vZFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBmb29kUm93LmNsYXNzTGlzdC5hZGQoJ2Zvb2Qtcm93Jyk7XHJcblxyXG4gICAgICBmb29kUm93LmlubmVySFRNTCA9IGBcclxuICAgICAgICA8c3BhbiBjbGFzcz1cImZvb2QtbmFtZVwiPiR7bmFtZX08L3NwYW4+XHJcbiAgICAgICAgPHN0cm9uZyBjbGFzcz1cImZvb2QtcHJpY2VcIj4ke3ByaWNlfSDigr08L3N0cm9uZz5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vZC1jb3VudGVyXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY291bnRlci1idXR0b24gYnRuLW1pbnVzXCIgZGF0YS1pZD0ke2lkfT4tPC9idXR0b24+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvdW50ZXJcIj4ke2NvdW50fTwvc3Bhbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjb3VudGVyLWJ1dHRvbiBidG4tcGx1c1wiIGRhdGEtaWQ9JHtpZH0+KzwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgO1xyXG5cclxuICAgICAgbW9kYWxCb2R5LmFwcGVuZChmb29kUm93KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbGN1bGF0ZVN1bSgpO1xyXG4gIH07XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSB7XHJcbiAgICBjYXJ0QXJyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKTtcclxuICAgIHJlbmRlck1vZGFsQ2FydCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNhcmRzQ29udGFpbmVyKSB7XHJcbiAgICBjYXJkc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuYnV0dG9uLWFkZC1jYXJ0JykpIHtcclxuICAgICAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuYnV0dG9uLWFkZC1jYXJ0Jyk7XHJcblxyXG4gICAgICAgIGFkZFRvQ2FydChidG4uZGF0YXNldC5pZCk7XHJcbiAgICAgICAgc2F2ZUNhcnQoKTtcclxuICAgICAgICByZW5kZXJNb2RhbENhcnQoKTtcclxuICAgICAgICBvcGVuTW9kYWxDYXJ0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYnV0dG9uQ2FydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Nb2RhbENhcnQpO1xyXG4gIG1vZGFsQ2FydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9kYWxDYXJ0KTtcclxuICBjbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsZWFyQ2FydCk7XHJcblxyXG4gIG1vZGFsQm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb3VudGVyLWJ1dHRvbicpKSB7XHJcbiAgICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0O1xyXG4gICAgICBjb25zdCBwcm9kdWN0ID0gY2FydEFyci5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBidG4uZGF0YXNldC5pZCk7XHJcblxyXG4gICAgICBpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnYnRuLW1pbnVzJykgJiYgcHJvZHVjdC5jb3VudCA+IDApIHtcclxuICAgICAgICBidG4ubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50LS07XHJcbiAgICAgICAgcHJvZHVjdC5jb3VudC0tO1xyXG4gICAgICB9IGVsc2UgaWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2J0bi1wbHVzJykgJiYgcHJvZHVjdC5jb3VudCA8IG1heFF1YW50aXR5KSB7XHJcbiAgICAgICAgYnRuLnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQrKztcclxuICAgICAgICBwcm9kdWN0LmNvdW50Kys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNhbGN1bGF0ZVN1bSgpO1xyXG4gICAgICBzYXZlQ2FydCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBzZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JyksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIG1vZGFsQm9keS5pbm5lckhUTUwgPSBgPGgzIGNsYXNzPVwiY2FyZC10aXRsZVwiPtCh0L/QsNGB0LjQsdC+ISDQktCw0Ygg0LfQsNC60LDQtyDQvtGC0L/RgNCw0LLQu9C10L0uYDtcclxuICAgICAgICAgIHNldFRpbWVvdXQoY2xlYXJDYXJ0LCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgbW9kYWxCb2R5LmlubmVySFRNTCA9IGA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlXCI+0JjQt9Cy0LjQvdC40YLQtSwg0L3QtdCy0L7Qt9C80L7QttC90L4g0L7RhNC+0YDQvNC40YLRjCDQt9Cw0LrQsNC3LmA7XHJcbiAgICAgICAgc2V0VGltZW91dChjbGVhckNhcnQsIDMwMDApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyJywge1xyXG4gIGxvb3A6IHRydWUsXHJcblxyXG4gIC8vIGF1dG9wbGF5OiB7XHJcbiAgLy8gICBkZWxheTogMjUwMCxcclxuICAvLyAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcclxuICAvLyB9LFxyXG5cclxuICBwYWdpbmF0aW9uOiB7XHJcbiAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXHJcbiAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgfSxcclxuXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiAnLnN3aXBlci1idXR0b24tbmV4dCcsXHJcbiAgICBwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyxcclxuICB9LFxyXG59KTtcclxuIiwiZXhwb3J0IGNvbnN0IHBhcnRuZXJzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzLXJlc3RhdXJhbnRzJyk7XHJcblxyXG4gIGNvbnN0IHJlbmRlckNhcmQgPSAocmVzdGF1cmFudCkgPT4ge1xyXG4gICAgY29uc3QgeyBuYW1lLCB0aW1lX29mX2RlbGl2ZXJ5LCBzdGFycywgcHJpY2UsIGtpdGNoZW4sIGltYWdlIH0gPSByZXN0YXVyYW50O1xyXG5cclxuICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnLCAnY2FyZC1yZXN0YXVyYW50Jyk7XHJcbiAgICBjYXJkLmhyZWYgPSAncmVzdGF1cmFudC5odG1sJztcclxuXHJcbiAgICBjYXJkLmlubmVySFRNTCA9IGBcclxuICAgICAgPGltZyBzcmM9JHtpbWFnZX0gYWx0PVwiaW1hZ2VcIiBjbGFzcz1cImNhcmQtaW1hZ2VcIiAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXRleHRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRpbmdcIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwiY2FyZC10aXRsZVwiPiR7bmFtZX08L2gzPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNhcmQtdGFnIHRhZ1wiPiR7dGltZV9vZl9kZWxpdmVyeX0g0LzQuNC9PC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1pbmZvXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyYXRpbmdcIj4ke3N0YXJzfTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpY2VcIj7QntGCICR7cHJpY2V9IOKCvTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj4ke2tpdGNoZW59PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgYDtcclxuXHJcbiAgICBjYXJkc0NvbnRhaW5lci5hcHBlbmQoY2FyZCk7XHJcblxyXG4gICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Jlc3RhdXJhbnQnLCBKU09OLnN0cmluZ2lmeShyZXN0YXVyYW50KSk7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJ3Jlc3RhdXJhbnQuaHRtbCc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWF1dGgnKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGZldGNoKCdodHRwczovL2RlbGl2ZXJ5Zm9vZC1iMjY5Ny1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vZGIvcGFydG5lcnMuanNvbicpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjYXJkc0NvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJjYXJkLXRpdGxlXCI+0JjQt9Cy0LjQvdC40YLQtSwg0L3QtdCy0L7Qt9C80L7QttC90L4g0L7RgtC+0LHRgNCw0LfQuNGC0Ywg0LTQsNC90L3Ri9C1Ljxicj5cclxuICAgICAgICAgINCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9IC0gJHtyZXMuc3RhdHVzVGV4dH08L2gzPlxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBlcnJvcjogJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IGRhdGEuZm9yRWFjaCgocmVzdGF1cmFudCkgPT4gcmVuZGVyQ2FyZChyZXN0YXVyYW50KSkpXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpKTtcclxufTtcclxuIiwiaW1wb3J0IHsgYXV0aCB9IGZyb20gJy4vbW9kdWxlcy9hdXRoJztcclxuaW1wb3J0IHsgY2FydCB9IGZyb20gJy4vbW9kdWxlcy9jYXJ0JztcclxuaW1wb3J0IHsgc3dpcGVyIH0gZnJvbSAnLi9tb2R1bGVzL3N3aXBlcic7XHJcbmltcG9ydCB7IHBhcnRuZXJzIH0gZnJvbSAnLi9tb2R1bGVzL3BhcnRuZXJzJztcclxuXHJcbmF1dGgoKTtcclxuY2FydCgpO1xyXG5wYXJ0bmVycygpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///604\n")}},__webpack_exports__={};__webpack_modules__[604]()})();